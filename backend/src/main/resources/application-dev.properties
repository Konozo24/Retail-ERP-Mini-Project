# =======================================================
# H2 In-Memory DB (local dev)
# =======================================================
spring.datasource.url=jdbc:h2:mem:retailerpdb;DB_CLOSE_ON_EXIT=FALSE;DB_CLOSE_DELAY=-1;MODE=MySQL
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.sql.init.schema-locations=classpath:schema-h2.sql
spring.sql.init.data-locations=classpath:data-h2.sql

# H2 web console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=true

# =======================================================
# DevTools (hot reload)
# =======================================================
spring.devtools.restart.enabled=false

# =======================================================
# JPA / Hibernate Databse Config
# =======================================================
spring.sql.init.mode=always
spring.jpa.hibernate.ddl-auto=update
spring.jpa.defer-datasource-initialization=true

# To create ddl
# spring.jpa.properties.jakarta.persistence.schema-generation.scripts.action=create
# spring.jpa.properties.jakarta.persistence.schema-generation.scripts.create-target=create.sql
# spring.jpa.properties.jakarta.persistence.schema-generation.scripts.create-source=metadata

# Ensure consistent timestamp handling (Malaysia time) for dev as well
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Kuala_Lumpur
